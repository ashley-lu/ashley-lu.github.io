---
layout: post
title: HW 0 - Blog Post 0
---

In this post, we'll be examining the Palmer Penguins data set and creating some
visualizations of the data.

First, we import the necessary modules to create the visualizations:
```python
import pandas as pd
from matplotlib import pyplot as plt
import numpy as np
```

And then we import the data set using the Pandas read_csv method:
```python
url = "https://raw.githubusercontent.com/PhilChodrow/PIC16B/master/datasets/palmer_penguins.csv"
penguins = pd.read_csv(url)
```

Now that the data set has been imported, we can take a look at the data and see
what kinds of variables we are working with. To do this, we can look at the head
of the penguins dataframe, which gets the first 5 rows of the dataframe.
```python
penguins.head()
```
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>studyName</th>
      <th>Sample Number</th>
      <th>Species</th>
      <th>Region</th>
      <th>Island</th>
      <th>Stage</th>
      <th>Individual ID</th>
      <th>Clutch Completion</th>
      <th>Date Egg</th>
      <th>Culmen Length (mm)</th>
      <th>Culmen Depth (mm)</th>
      <th>Flipper Length (mm)</th>
      <th>Body Mass (g)</th>
      <th>Sex</th>
      <th>Delta 15 N (o/oo)</th>
      <th>Delta 13 C (o/oo)</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PAL0708</td>
      <td>1</td>
      <td>Adelie Penguin (Pygoscelis adeliae)</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N1A1</td>
      <td>Yes</td>
      <td>11/11/07</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>MALE</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Not enough blood for isotopes.</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PAL0708</td>
      <td>2</td>
      <td>Adelie Penguin (Pygoscelis adeliae)</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N1A2</td>
      <td>Yes</td>
      <td>11/11/07</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>FEMALE</td>
      <td>8.94956</td>
      <td>-24.69454</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PAL0708</td>
      <td>3</td>
      <td>Adelie Penguin (Pygoscelis adeliae)</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N2A1</td>
      <td>Yes</td>
      <td>11/16/07</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>FEMALE</td>
      <td>8.36821</td>
      <td>-25.33302</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PAL0708</td>
      <td>4</td>
      <td>Adelie Penguin (Pygoscelis adeliae)</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N2A2</td>
      <td>Yes</td>
      <td>11/16/07</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Adult not sampled.</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PAL0708</td>
      <td>5</td>
      <td>Adelie Penguin (Pygoscelis adeliae)</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N3A1</td>
      <td>Yes</td>
      <td>11/16/07</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>FEMALE</td>
      <td>8.76651</td>
      <td>-25.32426</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>

We can also get an overview of the quantitative variables in the penguins dataframe
by calling the describe method.
```python
penguins.describe()
```
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sample Number</th>
      <th>Culmen Length (mm)</th>
      <th>Culmen Depth (mm)</th>
      <th>Flipper Length (mm)</th>
      <th>Body Mass (g)</th>
      <th>Delta 15 N (o/oo)</th>
      <th>Delta 13 C (o/oo)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>344.000000</td>
      <td>342.000000</td>
      <td>342.000000</td>
      <td>342.000000</td>
      <td>342.000000</td>
      <td>330.000000</td>
      <td>331.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>63.151163</td>
      <td>43.921930</td>
      <td>17.151170</td>
      <td>200.915205</td>
      <td>4201.754386</td>
      <td>8.733382</td>
      <td>-25.686292</td>
    </tr>
    <tr>
      <th>std</th>
      <td>40.430199</td>
      <td>5.459584</td>
      <td>1.974793</td>
      <td>14.061714</td>
      <td>801.954536</td>
      <td>0.551770</td>
      <td>0.793961</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>32.100000</td>
      <td>13.100000</td>
      <td>172.000000</td>
      <td>2700.000000</td>
      <td>7.632200</td>
      <td>-27.018540</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>29.000000</td>
      <td>39.225000</td>
      <td>15.600000</td>
      <td>190.000000</td>
      <td>3550.000000</td>
      <td>8.299890</td>
      <td>-26.320305</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>58.000000</td>
      <td>44.450000</td>
      <td>17.300000</td>
      <td>197.000000</td>
      <td>4050.000000</td>
      <td>8.652405</td>
      <td>-25.833520</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>95.250000</td>
      <td>48.500000</td>
      <td>18.700000</td>
      <td>213.000000</td>
      <td>4750.000000</td>
      <td>9.172123</td>
      <td>-25.062050</td>
    </tr>
    <tr>
      <th>max</th>
      <td>152.000000</td>
      <td>59.600000</td>
      <td>21.500000</td>
      <td>231.000000</td>
      <td>6300.000000</td>
      <td>10.025440</td>
      <td>-23.787670</td>
    </tr>
  </tbody>
</table>
</div>

To make our lives easier for the following visualizations, we can replace the strings
in the Species column of our penguins dataframe such that only the first string remains
(Adelie Penguin (Pygoscelis adeliae) -> Adelie).
```python
penguins["Species"] = penguins["Species"].str.split().str.get(0)
penguins.head()
```
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>studyName</th>
      <th>Sample Number</th>
      <th>Species</th>
      <th>Region</th>
      <th>Island</th>
      <th>Stage</th>
      <th>Individual ID</th>
      <th>Clutch Completion</th>
      <th>Date Egg</th>
      <th>Culmen Length (mm)</th>
      <th>Culmen Depth (mm)</th>
      <th>Flipper Length (mm)</th>
      <th>Body Mass (g)</th>
      <th>Sex</th>
      <th>Delta 15 N (o/oo)</th>
      <th>Delta 13 C (o/oo)</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PAL0708</td>
      <td>1</td>
      <td>Adelie</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N1A1</td>
      <td>Yes</td>
      <td>11/11/07</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>MALE</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Not enough blood for isotopes.</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PAL0708</td>
      <td>2</td>
      <td>Adelie</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N1A2</td>
      <td>Yes</td>
      <td>11/11/07</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>FEMALE</td>
      <td>8.94956</td>
      <td>-24.69454</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PAL0708</td>
      <td>3</td>
      <td>Adelie</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N2A1</td>
      <td>Yes</td>
      <td>11/16/07</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>FEMALE</td>
      <td>8.36821</td>
      <td>-25.33302</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PAL0708</td>
      <td>4</td>
      <td>Adelie</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N2A2</td>
      <td>Yes</td>
      <td>11/16/07</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Adult not sampled.</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PAL0708</td>
      <td>5</td>
      <td>Adelie</td>
      <td>Anvers</td>
      <td>Torgersen</td>
      <td>Adult, 1 Egg Stage</td>
      <td>N3A1</td>
      <td>Yes</td>
      <td>11/16/07</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>FEMALE</td>
      <td>8.76651</td>
      <td>-25.32426</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>

We'll begin our visualization of the data by taking a look at the different species
of penguins in the dataframe. By calling the unique method on the Species column,
we can see that there are three unique species: Adelie, Chinstrap, and Gentoo.
```python
penguins['Species'].unique()
```
array(['Adelie', 'Chinstrap', 'Gentoo'], dtype=object)

Similarly, using the unique method on the Island column tells us that we have three
islands on which the penguins were found: Torgersen, Biscoe, and Dream.
```python
penguins["Island"].unique()
```
array(['Torgersen', 'Biscoe', 'Dream'], dtype=object)

We can make some simple visualizations of the data using stacked bar graphs. One thing
we can examine is the species of penguins found at each island location. First, we
subset the penguins dataframe by the Species column:
```python
adelie_penguins = penguins[penguins["Species"] == "Adelie"]
chinstrap_penguins = penguins[penguins["Species"] == "Chinstrap"]
gentoo_penguins = penguins[penguins["Species"] == "Gentoo"]
```

Then, we create lists indicating the number of penguins of a certain species found
on each island:
```python
torgersen_count = [
    adelie_penguins["Island"][adelie_penguins["Island"] == "Torgersen"].count(),
    chinstrap_penguins["Island"][chinstrap_penguins["Island"] == "Torgersen"].count(),
    gentoo_penguins["Island"][gentoo_penguins["Island"] == "Torgersen"].count()
]
```

```python
biscoe_count = [
    adelie_penguins["Island"][adelie_penguins["Island"] == "Biscoe"].count(),
    chinstrap_penguins["Island"][chinstrap_penguins["Island"] == "Biscoe"].count(),
    gentoo_penguins["Island"][gentoo_penguins["Island"] == "Biscoe"].count()
]
```

```python
dream_count = [
    adelie_penguins["Island"][adelie_penguins["Island"] == "Dream"].count(),
    chinstrap_penguins["Island"][chinstrap_penguins["Island"] == "Dream"].count(),
    gentoo_penguins["Island"][gentoo_penguins["Island"] == "Dream"].count()
]
```

Finally, we plot the count lists on a stacked bar graph using the bar method from
pyplot. By specifying the bottom parameter of the bar method, we are able to stack
different bar segments on top of each other.
```python
labels = ["Adelie", "Chinstrap", "Gentoo"]
# Combined heights of Torgersen and Biscoe - we will use this as the 'bottom' parameter when plotting Dream
bar = list(np.add(torgersen_count, biscoe_count))
plt.bar(labels, torgersen_count, label = "Torgersen")
plt.bar(labels, biscoe_count, bottom = torgersen_count, label = "Biscoe")
plt.bar(labels, dream_count, bottom = bar, label = "Dream")
plt.xlabel("Penguin Species")
plt.ylabel("Count")
plt.title("Penguin Species Found at Different Islands")
plt.legend()
plt.show()
```
![penguins-stacked-bar-1.png](/images/penguins-stacked-bar-1.png)

The bar graph shows that for the data collected, Adelie penguins were found on
each of the three islands, while Chinstrap penguins were found exclusively on Dream
Island and Gentoo penguins were found exclusively on Biscoe Island.

We can also use this same process to see the proportion of males to females per species.
Using the same species dataframes, we can obtain a count for the number of males
per species and the number of females per species:
```python
male_count = [
    adelie_penguins["Sex"][adelie_penguins["Sex"] == "MALE"].count(),
    chinstrap_penguins["Sex"][chinstrap_penguins["Sex"] == "MALE"].count(),
    gentoo_penguins["Sex"][gentoo_penguins["Sex"] == "MALE"].count()
]
```

```python
female_count = [
    adelie_penguins["Sex"][adelie_penguins["Sex"] == "FEMALE"].count(),
    chinstrap_penguins["Sex"][chinstrap_penguins["Sex"] == "FEMALE"].count(),
    gentoo_penguins["Sex"][gentoo_penguins["Sex"] == "FEMALE"].count()
]
```

Using the same x-axis labels from before, we construct the stacked bar graphs:
```python
plt.bar(labels, male_count, label = "Male")
plt.bar(labels, female_count, bottom = male_count, label = "Female")
plt.xlabel("Penguin Species")
plt.ylabel("Count")
plt.title("Sex of Penguin Species")
plt.legend()
plt.show()
```
![penguins-stacked-bar-2png](/images/penguins-stacked-bar-2.png)

We see that for each species, the proportion of males to females that were studied
in the data set is about 1:1.

Now, we can begin to look more closely at the data. One thing we can examine is how
different body measurements vary across different species. For example, we can take
a look at the distribution of culmen lengths per species via a histogram.

First, we subset the dataframe by taking only the Species column and the Culmen Length
column.
```python
culmen_length = penguins[['Species', 'Culmen Length (mm)']]
culmen_length.head()
```
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Species</th>
      <th>Culmen Length (mm)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>39.1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>39.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>40.3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Adelie</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>36.7</td>
    </tr>
  </tbody>
</table>
</div>

There are some missing values in the data, so we can clean up the dataframe by dropping
the NaN values.
```python
culmen_length = culmen_length.dropna()
culmen_length.head()
```
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Species</th>
      <th>Culmen Length (mm)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>39.1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>39.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>40.3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>36.7</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Adelie</td>
      <td>39.3</td>
    </tr>
  </tbody>
</table>
</div>

Then, we can further subset our dataframe such that we obtain the culmen lengths
per species.
```python
adelie_culmen_length = culmen_length[culmen_length['Species'] == 'Adelie']
chinstrap_culmen_length = culmen_length[culmen_length['Species'] == 'Chinstrap']
gentoo_culmen_length = culmen_length[culmen_length['Species'] == 'Gentoo']
```

Finally, we plot the culmen lengths per species onto a histogram. We can adjust the
alpha values of the plot so that the different colors appear more transparent and
we can see each individual distribution per species.
```python
plt.hist(adelie_culmen_length["Culmen Length (mm)"], alpha = 0.5, label = "Adelie")
plt.hist(chinstrap_culmen_length["Culmen Length (mm)"], alpha = 0.5, label = "Chinstrap")
plt.hist(gentoo_culmen_length["Culmen Length (mm)"], alpha = 0.5, label = "Gentoo")
plt.legend()
plt.xlabel("Culmen Length (mm)")
plt.ylabel("Count")
plt.title("Culmen Length in Penguin Species")
plt.show()
```
![penguins-culmen-length.png](/images/penguins-culmen-length.png)

We can see that the distributions for each of the species is relatively normal.
Adelie penguins tend to have smaller culmen lengths than Chistraps and Gentoos.

Another way we can look at the data is by graphing the relationship between two
quantitative variables. For this, we'll use a scatterplot to examine how two
different body measurements, such as body mass and flipper length, correlate with
each other. We can also categorize the points on the scatterplot according to species.
To do this, we subset the data by the Species column:
```python
adelie_penguins = penguins[penguins["Species"] == "Adelie"]
chinstrap_penguins = penguins[penguins["Species"] == "Chinstrap"]
gentoo_penguins = penguins[penguins["Species"] == "Gentoo"]
```

We then construct the scatterplot using the scatter method from pyplot. When passing
in the body mass and flipper length measurements, we can drop the NaN values so they
don't interfere in the graphing. To differentiate the values from the different
species, we can specify a marker in the scatter method. We can also plot the least
squares regression line (line of best fit) using the polyfit method from the numpy module.
```python
fig, ax = plt.subplots(1, 1)
plt.scatter(adelie_penguins["Body Mass (g)"].dropna(), adelie_penguins["Flipper Length (mm)"].dropna(), label = "Adelie")

plt.scatter(chinstrap_penguins["Body Mass (g)"].dropna(), chinstrap_penguins["Flipper Length (mm)"].dropna(), marker = "^", label = "Chinstrap")

plt.scatter(gentoo_penguins["Body Mass (g)"].dropna(), gentoo_penguins["Flipper Length (mm)"].dropna(), marker = "s", label = "Gentoo")

ax.set(xlabel = "Body Mass (g)",
          ylabel = "Flipper Length (mm)",
          title = "Correlation Between Body Mass and Flipper Length")

x = np.array(adelie_penguins["Body Mass (g)"].dropna())
y = np.array(adelie_penguins["Flipper Length (mm)"].dropna())
# adding best fit line through least squares regression
m, b = np.polyfit(x, y, 1)
plt.plot(x, m * x + b)

x = np.array(chinstrap_penguins["Body Mass (g)"].dropna())
y = np.array(chinstrap_penguins["Flipper Length (mm)"].dropna())
# adding best fit line through least squares regression
m, b = np.polyfit(x, y, 1)
plt.plot(x, m * x + b)

x = np.array(gentoo_penguins["Body Mass (g)"].dropna())
y = np.array(gentoo_penguins["Flipper Length (mm)"].dropna())
# adding best fit line through least squares regression
m, b = np.polyfit(x, y, 1)
plt.plot(x, m * x + b)

plt.legend()
plt.show()
```
![penguins-scatterplot.png](/images/penguins-scatterplot.png)

We can make two valuable observations from this plot. First, we observe that Gentoo
penguins tend to have both higher body mass and greater flipper length than Adelie
penguins and Chinstrap penguins. Second, we observe that for all of the penguin species,
there seems to be a positive correlation between body mass and flipper length. That is,
as body mass increases, flipper length tends to increase as well.

These are only some of the ways to create an interesting visualization of the Palmer
Penguins data set. Hopefully, this tutorial was helpful in showing some of the ways
we might analyze the data about the best species in the world!

{::options parse_block_html="true" /}
<div class="got-help">
If this assignment involved peer feedback, I'm sure I would've gotten some great feedback!
</div>
{::options parse_block_html="false" /}

{::options parse_block_html="true" /}
<div class="gave-help">
If I had the chance to read my peers' blog posts, I think I'd be able to give some cool feedback!
</div>
{::options parse_block_html="false" /}
